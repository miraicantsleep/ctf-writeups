/* This file was generated by the Hex-Rays decompiler version 8.4.0.240320.
   Copyright (c) 2007-2021 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

__int64 (**init_proc())(void);
void sub_2020();
// __int64 __fastcall cob_string_append(_QWORD); weak
// __int64 __fastcall cob_decimal_clear(_QWORD); weak
// __int64 __fastcall cob_init(_QWORD, _QWORD); weak
// __int64 __fastcall cob_write(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_decimal_alloc(_QWORD, _QWORD); weak
// int memcmp(const void *s1, const void *s2, size_t n);
// __int64 __fastcall cob_decimal_init(_QWORD); weak
// void *memset(void *s, int c, size_t n);
// __int64 __fastcall cob_sys_oc_nanosleep(_QWORD); weak
// __int64 cob_string_finish(void); weak
// __int64 __fastcall cob_fatal_error(_QWORD); weak
// void *memcpy(void *dest, const void *src, size_t n);
// __int64 __fastcall cob_file_malloc(_QWORD, _QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_cmp(_QWORD, _QWORD); weak
// __int64 __fastcall cob_set_cancel(_QWORD); weak
// __int64 __fastcall cob_accept(_QWORD); weak
// __int64 __fastcall cob_string_delimited(_QWORD); weak
// __int64 __fastcall cob_decimal_add(_QWORD, _QWORD); weak
// __int64 __fastcall cob_read_next(_QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_module_leave(_QWORD); weak
// __int64 __fastcall cob_decimal_get_field(_QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_open(_QWORD, _QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_move(_QWORD, _QWORD); weak
// __int64 __fastcall cob_module_global_enter(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_string_init(_QWORD, _QWORD); weak
// __int64 __fastcall cob_close(_QWORD, _QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_stop_run(_QWORD); weak
// __int64 __fastcall cob_check_version(_QWORD, _QWORD, _QWORD); weak
// __int64 __fastcall cob_display(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD, _QWORD);
// __int64 __fastcall cob_decimal_set_field(_QWORD, _QWORD); weak
// __int64 __fastcall cob_sys_system(_QWORD); weak
// int __fastcall _cxa_finalize(void *);
void __fastcall __noreturn start(__int64 a1, __int64 a2, void (*a3)(void));
void *deregister_tm_clones();
__int64 register_tm_clones();
void *_do_global_dtors_aux();
__int64 frame_dummy(); // weak
int __fastcall main(int argc, const char **argv, const char **envp);
int __cdecl PHONEBOOK();
int __cdecl PHONEBOOK_(const int entry);
void __cdecl PHONEBOOK_module_init(cob_module *module);
void term_proc();
// int __fastcall _libc_start_main(int (__fastcall *main)(int, char **, char **), int argc, char **ubp_av, void (*init)(void), void (*fini)(void), void (*rtld_fini)(void), void *stack_end);
// int __fastcall __cxa_finalize(void *);
// __int64 _gmon_start__(void); weak

//-------------------------------------------------------------------------
// Data declarations

const cob_field c_1 = { 1uLL, &unk_5070, &a_1 }; // idb
const cob_field c_3 = { 1uLL, &asc_5082, &a_3 }; // idb
const cob_field c_12 = { 31uLL, &aMd5sumPhoneboo, &a_3 }; // idb
const cob_field c_13 = { 9uLL, &aSpongebob, &a_3 }; // idb
const cob_field c_14 = { 12uLL, &a083834140789, &a_3 }; // idb
const cob_field c_15 = { 13uLL, &aKucingChesir, &a_3 }; // idb
const cob_field c_16 = { 12uLL, &a083894367868, &a_3 }; // idb
const cob_field c_17 = { 8uLL, &aMiquella, &a_3 }; // idb
const cob_field c_18 = { 12uLL, &a085941360032, &a_3 }; // idb
const cob_field c_19 = { 9uLL, &aJohnBB, &a_3 }; // idb
const cob_field c_20 = { 1uLL, &asc_51EA, &a_3 }; // idb
const cob_field c_21 = { 12uLL, &a08174poros12, &a_3 }; // idb
const cob_field c_22 = { 33uLL, &aWriteTheNameOf, &a_3 }; // idb
const cob_field c_23 = { 7uLL, &aYyodk3, &a_3 }; // idb
const cob_field c_24 = { 8uLL, &aNtayodm, &a_3 }; // idb
const cob_field c_25 = { 4uLL, &aZcg, &a_3 }; // idb
const cob_field c_26 = { 3uLL, &asc_5238, &a_3 }; // idb
const cob_field c_27 = { 10uLL, &a2000000000, &a_3 }; // idb
const cob_field c_28 = { 23uLL, &aCanTISleepInPe, &a_3 }; // idb
const cob_field c_29 = { 16uLL, &aContacting, &a_3 }; // idb
const cob_field c_30 = { 33uLL, &aNoResponseTryA, &a_3 }; // idb
const cob_field c_31 = { 13uLL, &aPhonebookDat, &a_3 }; // idb
const cob_field c_32 = { 12uLL, &aChecksumDat, &a_3 }; // idb
void *_dso_handle = &_dso_handle; // idb
cob_field cob_all_space = { 1uLL, &asc_5082, &cob_all_attr }; // idb
cob_field f_9_73 = { 30uLL, &b_11_52, &a_2 }; // idb
cob_field f_10_72 = { 100uLL, (unsigned __int8 *)0x763ELL, &a_2 }; // idb
cob_field f_8_71 = { 130uLL, &b_11_52, &a_5 }; // idb
cob_field f_13_67 = { 50uLL, &b_15_0, &a_2 }; // idb
cob_field f_25_66 = { 30uLL, &b_25_70, &a_2 }; // idb
cob_field f_23_63 = { 1uLL, &b_23_64, &a_4 }; // idb
cob_field f_60_62 = { 100uLL, &b_60_51, &a_2 }; // idb
cob_field f_33_61 = { 30uLL, &b_33_31, &a_2 }; // idb
cob_field f_39_60 = { 30uLL, &b_39_25, &a_2 }; // idb
cob_field f_28_59 = { 30uLL, &b_28_36, &a_2 }; // idb
cob_field f_34_58 = { 30uLL, &b_34_30, &a_2 }; // idb
cob_field f_40_57 = { 30uLL, &b_40_24, &a_2 }; // idb
cob_field f_46_56 = { 30uLL, &b_46_18, &a_2 }; // idb
cob_field f_47_55 = { 30uLL, &b_47_17, &a_2 }; // idb
cob_field f_32_54 = { 30uLL, &b_32_32, &a_2 }; // idb
cob_field f_45_53 = { 30uLL, &b_45_19, &a_2 }; // idb
cob_field f_24_50 = { 30uLL, &b_24_37, &a_2 }; // idb
cob_field f_31_48 = { 30uLL, &b_31_33, &a_2 }; // idb
cob_field f_41_47 = { 30uLL, &b_41_23, &a_2 }; // idb
cob_field f_49_46 = { 30uLL, &b_49_15, &a_2 }; // idb
cob_field f_54_45 = { 30uLL, &b_54_10, &a_2 }; // idb
cob_field f_55_44 = { 30uLL, &b_55_9, &a_2 }; // idb
cob_field f_44_43 = { 30uLL, &b_44_20, &a_2 }; // idb
cob_field f_56_42 = { 30uLL, &b_56_8, &a_2 }; // idb
cob_field f_51_41 = { 30uLL, &b_51_13, &a_2 }; // idb
cob_field f_57_40 = { 30uLL, &b_57_7, &a_2 }; // idb
cob_field f_11_3 = { 130uLL, &b_11_52, &a_2 }; // idb
cob_field f_15_1 = { 100uLL, &b_15_0, &a_2 }; // idb
_UNKNOWN _bss_start; // weak
char completed_0; // weak
const char *cob_module_path; // idb
cob_decimal kc_1; // idb
cob_decimal *dc_1; // idb
cob_module *module_81; // idb
unsigned int initialized_80; // idb
unsigned __int8 b_21_79[1]; // idb
unsigned __int8 b_16_77[100]; // idb
int b_2_76; // idb
cob_file *h_CONTACT_FILE_74; // idb
unsigned __int8 b_25_70[30]; // idb
cob_file *h_CHECKSUM_69; // idb
unsigned __int8 b_22_68[3]; // idb
unsigned __int8 b_26_65[1]; // idb
unsigned __int8 b_23_64[1]; // idb
unsigned __int8 b_11_52[130]; // idb
unsigned __int8 b_60_51[100]; // idb
unsigned __int8 b_27_49[1]; // idb
unsigned __int8 b_17_39[45]; // idb
unsigned __int8 b_20_38[100]; // idb
unsigned __int8 b_24_37[30]; // idb
unsigned __int8 b_28_36[30]; // idb
_UNKNOWN unk_77F1; // weak
unsigned __int8 b_29_35[30]; // idb
_UNKNOWN unk_7811; // weak
unsigned __int8 b_30_34[30]; // idb
_UNKNOWN unk_7831; // weak
unsigned __int8 b_31_33[30]; // idb
_UNKNOWN unk_7851; // weak
unsigned __int8 b_32_32[30]; // idb
_UNKNOWN unk_7871; // weak
unsigned __int8 b_33_31[30]; // idb
_UNKNOWN unk_7891; // weak
unsigned __int8 b_34_30[30]; // idb
_UNKNOWN unk_78B1; // weak
unsigned __int8 b_35_29[30]; // idb
_UNKNOWN unk_78D1; // weak
unsigned __int8 b_36_28[30]; // idb
_UNKNOWN unk_78F1; // weak
unsigned __int8 b_37_27[30]; // idb
_UNKNOWN unk_7911; // weak
unsigned __int8 b_38_26[30]; // idb
_UNKNOWN unk_7931; // weak
unsigned __int8 b_39_25[30]; // idb
_UNKNOWN unk_7951; // weak
unsigned __int8 b_40_24[30]; // idb
_UNKNOWN unk_7971; // weak
unsigned __int8 b_41_23[30]; // idb
_UNKNOWN unk_7991; // weak
unsigned __int8 b_42_22[30]; // idb
_UNKNOWN unk_79B1; // weak
unsigned __int8 b_43_21[30]; // idb
_UNKNOWN unk_79D1; // weak
unsigned __int8 b_44_20[30]; // idb
_UNKNOWN unk_79F1; // weak
unsigned __int8 b_45_19[30]; // idb
_UNKNOWN unk_7A11; // weak
unsigned __int8 b_46_18[30]; // idb
_UNKNOWN unk_7A31; // weak
unsigned __int8 b_47_17[30]; // idb
_UNKNOWN unk_7A51; // weak
unsigned __int8 b_48_16[30]; // idb
_UNKNOWN unk_7A71; // weak
unsigned __int8 b_49_15[30]; // idb
_UNKNOWN unk_7A91; // weak
unsigned __int8 b_50_14[30]; // idb
_UNKNOWN unk_7AB1; // weak
unsigned __int8 b_51_13[30]; // idb
_UNKNOWN unk_7AD1; // weak
unsigned __int8 b_52_12[30]; // idb
_UNKNOWN unk_7AF1; // weak
unsigned __int8 b_53_11[30]; // idb
_UNKNOWN unk_7B11; // weak
unsigned __int8 b_54_10[30]; // idb
_UNKNOWN unk_7B31; // weak
unsigned __int8 b_55_9[30]; // idb
_UNKNOWN unk_7B51; // weak
unsigned __int8 b_56_8[30]; // idb
_UNKNOWN unk_7B71; // weak
unsigned __int8 b_57_7[30]; // idb
_UNKNOWN unk_7B91; // weak
unsigned __int8 b_58_6[30]; // idb
_UNKNOWN unk_7BB1; // weak
unsigned __int8 b_59_5[30]; // idb
_UNKNOWN unk_7BD1; // weak
unsigned __int8 h_CONTACT_FILE_status_4[4]; // idb
unsigned __int8 h_CHECKSUM_status_2[4]; // idb


//----- (0000000000002000) ----------------------------------------------------
__int64 (**init_proc())(void)
{
  __int64 (**result)(void); // rax

  result = &_gmon_start__;
  if ( &_gmon_start__ )
    return (__int64 (**)(void))_gmon_start__();
  return result;
}
// 7D88: using guessed type __int64 _gmon_start__(void);

//----- (0000000000002020) ----------------------------------------------------
void sub_2020()
{
  JUMPOUT(0LL);
}
// 2026: control flows out of bounds to 0

//----- (0000000000002240) ----------------------------------------------------
// positive sp value has been detected, the output may be wrong!
void __fastcall __noreturn start(__int64 a1, __int64 a2, void (*a3)(void))
{
  __int64 v3; // rax
  int v4; // esi
  __int64 v5; // [rsp-8h] [rbp-8h] BYREF
  char *retaddr; // [rsp+0h] [rbp+0h] BYREF

  v4 = v5;
  v5 = v3;
  _libc_start_main((int (__fastcall *)(int, char **, char **))main, v4, &retaddr, 0LL, 0LL, a3, &v5);
  __halt();
}
// 2246: positive sp value 8 has been found
// 224D: variable 'v3' is possibly undefined

//----- (0000000000002270) ----------------------------------------------------
void *deregister_tm_clones()
{
  return &_bss_start;
}

//----- (00000000000022A0) ----------------------------------------------------
__int64 register_tm_clones()
{
  return 0LL;
}

//----- (00000000000022E0) ----------------------------------------------------
void *_do_global_dtors_aux()
{
  void *result; // rax

  if ( !completed_0 )
  {
    if ( &__cxa_finalize )
      _cxa_finalize(_dso_handle);
    result = deregister_tm_clones();
    completed_0 = 1;
  }
  return result;
}
// 74F0: using guessed type char completed_0;

//----- (0000000000002320) ----------------------------------------------------
__int64 frame_dummy()
{
  return register_tm_clones();
}
// 2320: using guessed type __int64 frame_dummy();

//----- (0000000000002329) ----------------------------------------------------
int __fastcall main(int argc, const char **argv, const char **envp)
{
  unsigned int v3; // eax

  cob_init((unsigned int)argc, argv);
  v3 = PHONEBOOK();
  cob_stop_run(v3);
  return PHONEBOOK();
}
// 2050: using guessed type __int64 __fastcall cob_init(_QWORD, _QWORD);
// 21E0: using guessed type __int64 __fastcall cob_stop_run(_QWORD);

//----- (000000000000235A) ----------------------------------------------------
int __cdecl PHONEBOOK()
{
  return PHONEBOOK_(0);
}

//----- (000000000000236A) ----------------------------------------------------
int __cdecl PHONEBOOK_(const int entry)
{
  void *return_address_ptr; // rax
  __int64 v3; // r8
  __int64 v4; // r9
  __int64 v5; // r8
  __int64 v6; // r9
  __int64 v7; // r8
  __int64 v8; // r9
  __int64 v9; // r8
  __int64 v10; // r9
  __int64 v11; // r8
  __int64 v12; // r9
  cob_frame frame_stack[255]; // [rsp+10h] [rbp-1010h] BYREF
  cob_field *cob_procedure_params[1]; // [rsp+1000h] [rbp-20h] BYREF
  cob_decimal *d0; // [rsp+1008h] [rbp-18h] BYREF
  cob_global *cob_glob_ptr; // [rsp+1010h] [rbp-10h] BYREF
  cob_frame *frame_ptr; // [rsp+1018h] [rbp-8h]

  d0 = 0LL;
  if ( entry >= 0 )
  {
    if ( (unsigned int)cob_module_global_enter(&module_81, &cob_glob_ptr, 0LL, (unsigned int)entry, 0LL) )
    {
      return -1;
    }
    else
    {
      module_81->cob_procedure_params = cob_procedure_params;
      frame_ptr = frame_stack;
      frame_stack[0].perform_through = 0;
      frame_stack[0].return_address_ptr = &MEMORY[0x396F];
      if ( !initialized_80 )
        goto LABEL_76;
      while ( 1 )
      {
        cob_decimal_alloc(1LL, &d0);
        ++module_81->module_active;
        ++frame_ptr;
        frame_ptr->perform_through = 7;
        frame_ptr->return_address_ptr = &MEMORY[0x247F];
        cob_procedure_params[0] = (cob_field *)&c_12;
        cob_glob_ptr->cob_call_params = 1;
        cob_glob_ptr->cob_stmt_exception = 0;
        b_2_76 = cob_sys_system("md5sum phonebook > CHECKSUM.DAT");
        cob_open(h_CONTACT_FILE_74, 4LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x27C1];
          goto l_1;
        }
        cob_move(&c_13, &f_9_73);
        cob_move(&c_14, &f_10_72);
        cob_write(h_CONTACT_FILE_74, &f_8_71, 0LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x2855];
          goto l_1;
        }
        cob_move(&c_15, &f_9_73);
        cob_move(&c_16, &f_10_72);
        cob_write(h_CONTACT_FILE_74, &f_8_71, 0LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x28E9];
          goto l_1;
        }
        cob_move(&c_17, &f_9_73);
        cob_move(&c_18, &f_10_72);
        cob_write(h_CONTACT_FILE_74, &f_8_71, 0LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x297D];
          goto l_1;
        }
        cob_move(&c_19, &f_9_73);
        cob_move(&c_18, &f_10_72);
        cob_write(h_CONTACT_FILE_74, &f_8_71, 0LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x2A11];
          goto l_1;
        }
        cob_close(h_CONTACT_FILE_74, 0LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x2A6B];
          goto l_1;
        }
        qmemcpy(b_25_70, "df4287480968effcb013569d1a44c1", sizeof(b_25_70));
        cob_open(h_CHECKSUM_69, 1LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x2B09];
          goto l_1;
        }
        qmemcpy(b_22_68, "NO ", sizeof(b_22_68));
        cob_read_next(h_CHECKSUM_69, 0LL, 1LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          if ( cob_glob_ptr->cob_exception_code != 1281 )
          {
            ++frame_ptr;
            frame_ptr->perform_through = 1;
            frame_ptr->return_address_ptr = &MEMORY[0x2B8E];
            goto l_1;
          }
LABEL_26:
          qmemcpy(b_22_68, "YES", sizeof(b_22_68));
          goto LABEL_28;
        }
        while ( 1 )
        {
LABEL_28:
          if ( !memcmp(b_22_68, "YES", 3uLL) )
          {
            cob_close(h_CHECKSUM_69, 0LL, 0LL, 0LL);
            if ( cob_glob_ptr->cob_exception_code )
            {
              ++frame_ptr;
              frame_ptr->perform_through = 1;
              frame_ptr->return_address_ptr = &MEMORY[0x2CE3];
              goto l_1;
            }
            if ( frame_ptr->perform_through == 7 )
            {
              return_address_ptr = frame_ptr->return_address_ptr;
              goto LABEL_9;
            }
            cob_open(h_CONTACT_FILE_74, 1LL, 0LL, 0LL);
            if ( cob_glob_ptr->cob_exception_code )
            {
              ++frame_ptr;
              frame_ptr->perform_through = 1;
              frame_ptr->return_address_ptr = &MEMORY[0x2D56];
              goto l_1;
            }
            qmemcpy(b_22_68, "NO ", sizeof(b_22_68));
            cob_read_next(h_CONTACT_FILE_74, 0LL, 1LL);
            if ( cob_glob_ptr->cob_exception_code )
            {
              if ( cob_glob_ptr->cob_exception_code != 1281 )
              {
                ++frame_ptr;
                frame_ptr->perform_through = 1;
                frame_ptr->return_address_ptr = &MEMORY[0x2DDB];
                goto l_1;
              }
              qmemcpy(b_22_68, "YES", sizeof(b_22_68));
            }
            b_23_64[0] = 48;
            while ( memcmp(b_22_68, "YES", 3uLL) )
            {
              cob_decimal_set_field(d0, &f_23_63);
              cob_decimal_add(d0, dc_1);
              cob_decimal_get_field(d0, &f_23_63, 0LL);
              cob_display(0LL, 1LL, 5LL, &f_23_63, &c_20, &c_3);
              cob_read_next(h_CONTACT_FILE_74, 0LL, 1LL);
              if ( cob_glob_ptr->cob_exception_code )
              {
                if ( cob_glob_ptr->cob_exception_code != 1281 )
                {
                  ++frame_ptr;
                  frame_ptr->perform_through = 1;
                  frame_ptr->return_address_ptr = &MEMORY[0x2F13];
                  goto l_1;
                }
                qmemcpy(b_22_68, "YES", sizeof(b_22_68));
              }
            }
            cob_close(h_CONTACT_FILE_74, 0LL, 0LL, 0LL);
            if ( cob_glob_ptr->cob_exception_code )
            {
              ++frame_ptr;
              frame_ptr->perform_through = 1;
              frame_ptr->return_address_ptr = &MEMORY[0x2F73];
              goto l_1;
            }
            ++frame_ptr;
            frame_ptr->perform_through = 10;
            frame_ptr->return_address_ptr = &MEMORY[0x2F9B];
            goto l_10;
          }
          if ( !(unsigned int)cob_cmp(&f_13_67, &f_25_66) && b_26_65[0] == 49 )
            break;
          cob_read_next(h_CHECKSUM_69, 0LL, 1LL);
          if ( cob_glob_ptr->cob_exception_code )
          {
            if ( cob_glob_ptr->cob_exception_code != 1281 )
            {
              ++frame_ptr;
              frame_ptr->perform_through = 1;
              frame_ptr->return_address_ptr = &MEMORY[0x2C83];
              goto l_1;
            }
            goto LABEL_26;
          }
        }
        ++frame_ptr;
        frame_ptr->perform_through = 9;
        frame_ptr->return_address_ptr = &MEMORY[0x2C07];
        cob_open(h_CONTACT_FILE_74, 4LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x300E];
          goto l_1;
        }
        cob_move(&c_21, &f_10_72);
        cob_string_init(&f_60_62, 0LL);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_33_61);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_39_60);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_28_59);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_34_58);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_40_57);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_28_59);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_46_56);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_47_55);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_32_54);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_45_53);
        cob_string_finish();
        memcpy(b_11_52, b_60_51, 0x1EuLL);
        cob_write(h_CONTACT_FILE_74, &f_8_71, 0LL, 0LL, 0LL);
        if ( cob_glob_ptr->cob_exception_code )
        {
          ++frame_ptr;
          frame_ptr->perform_through = 1;
          frame_ptr->return_address_ptr = &MEMORY[0x31EC];
          goto l_1;
        }
        cob_close(h_CONTACT_FILE_74, 0LL, 0LL, 0LL);
        if ( !cob_glob_ptr->cob_exception_code )
          break;
        ++frame_ptr;
        frame_ptr->perform_through = 1;
        frame_ptr->return_address_ptr = &MEMORY[0x3246];
l_1:
        if ( (cob_glob_ptr->cob_error_file->flag_select_features & 1) == 0 )
          cob_fatal_error(11LL);
        if ( frame_ptr->perform_through == 1 )
        {
          return_address_ptr = frame_ptr->return_address_ptr;
LABEL_9:
          __asm { jmp     rax }
        }
        cob_fatal_error(3LL);
        cob_fatal_error(3LL);
LABEL_76:
        cob_check_version("phonebook.cbl", "3.1.2", 0LL);
        cob_module_path = cob_glob_ptr->cob_main_argv0;
        PHONEBOOK_module_init(module_81);
        module_81->crt_status = 0LL;
        cob_set_cancel(module_81);
        b_2_76 = 0;
        memcpy(b_16_77, "rm PHONEBOOK.DAT", 0x10uLL);
        memset(&b_16_77[16], 32, 0x54uLL);
        memset(b_17_39, 32, sizeof(b_17_39));
        memset(b_20_38, 32, sizeof(b_20_38));
        b_21_79[0] = 48;
        qmemcpy(b_22_68, "NO ", sizeof(b_22_68));
        b_23_64[0] = 49;
        memset(b_24_37, 32, sizeof(b_24_37));
        memset(b_25_70, 32, sizeof(b_25_70));
        b_26_65[0] = 48;
        b_27_49[0] = 48;
        b_28_36[0] = 65;
        memset(&unk_77F1, 32, 0x1DuLL);
        b_29_35[0] = 66;
        memset(&unk_7811, 32, 0x1DuLL);
        b_30_34[0] = 67;
        memset(&unk_7831, 32, 0x1DuLL);
        b_31_33[0] = 68;
        memset(&unk_7851, 32, 0x1DuLL);
        b_32_32[0] = 69;
        memset(&unk_7871, 32, 0x1DuLL);
        b_33_31[0] = 70;
        memset(&unk_7891, 32, 0x1DuLL);
        b_34_30[0] = 71;
        memset(&unk_78B1, 32, 0x1DuLL);
        b_35_29[0] = 72;
        memset(&unk_78D1, 32, 0x1DuLL);
        b_36_28[0] = 73;
        memset(&unk_78F1, 32, 0x1DuLL);
        b_37_27[0] = 74;
        memset(&unk_7911, 32, 0x1DuLL);
        b_38_26[0] = 75;
        memset(&unk_7931, 32, 0x1DuLL);
        b_39_25[0] = 76;
        memset(&unk_7951, 32, 0x1DuLL);
        b_40_24[0] = 77;
        memset(&unk_7971, 32, 0x1DuLL);
        b_41_23[0] = 78;
        memset(&unk_7991, 32, 0x1DuLL);
        b_42_22[0] = 79;
        memset(&unk_79B1, 32, 0x1DuLL);
        b_43_21[0] = 80;
        memset(&unk_79D1, 32, 0x1DuLL);
        b_44_20[0] = 81;
        memset(&unk_79F1, 32, 0x1DuLL);
        b_45_19[0] = 82;
        memset(&unk_7A11, 32, 0x1DuLL);
        b_46_18[0] = 83;
        memset(&unk_7A31, 32, 0x1DuLL);
        b_47_17[0] = 84;
        memset(&unk_7A51, 32, 0x1DuLL);
        b_48_16[0] = 85;
        memset(&unk_7A71, 32, 0x1DuLL);
        b_49_15[0] = 86;
        memset(&unk_7A91, 32, 0x1DuLL);
        b_50_14[0] = 87;
        memset(&unk_7AB1, 32, 0x1DuLL);
        b_51_13[0] = 88;
        memset(&unk_7AD1, 32, 0x1DuLL);
        b_52_12[0] = 89;
        memset(&unk_7AF1, 32, 0x1DuLL);
        b_53_11[0] = 90;
        memset(&unk_7B11, 32, 0x1DuLL);
        b_54_10[0] = 102;
        memset(&unk_7B31, 32, 0x1DuLL);
        b_55_9[0] = 108;
        memset(&unk_7B51, 32, 0x1DuLL);
        b_56_8[0] = 106;
        memset(&unk_7B71, 32, 0x1DuLL);
        b_57_7[0] = 122;
        memset(&unk_7B91, 32, 0x1DuLL);
        b_58_6[0] = 123;
        memset(&unk_7BB1, 32, 0x1DuLL);
        b_59_5[0] = 125;
        memset(&unk_7BD1, 32, 0x1DuLL);
        memset(b_60_51, 32, sizeof(b_60_51));
        cob_file_malloc(&h_CONTACT_FILE_74, 0LL, 0LL, 0LL);
        h_CONTACT_FILE_74->select_name = "CONTACT-FILE";
        h_CONTACT_FILE_74->file_status = h_CONTACT_FILE_status_4;
        memset(h_CONTACT_FILE_status_4, 48, 2uLL);
        h_CONTACT_FILE_74->assign = (cob_field *)&c_31;
        h_CONTACT_FILE_74->record = &f_11_3;
        h_CONTACT_FILE_74->variable_record = 0LL;
        h_CONTACT_FILE_74->record_min = 130LL;
        h_CONTACT_FILE_74->record_max = 130LL;
        h_CONTACT_FILE_74->nkeys = 0LL;
        h_CONTACT_FILE_74->keys = 0LL;
        h_CONTACT_FILE_74->file = 0LL;
        h_CONTACT_FILE_74->fd = -1;
        h_CONTACT_FILE_74->organization = 0;
        h_CONTACT_FILE_74->access_mode = 1;
        h_CONTACT_FILE_74->lock_mode = 0;
        h_CONTACT_FILE_74->open_mode = 0;
        h_CONTACT_FILE_74->flag_optional = 1;
        h_CONTACT_FILE_74->flag_line_adv = 0;
        h_CONTACT_FILE_74->flag_select_features = 0;
        cob_file_malloc(&h_CHECKSUM_69, 0LL, 0LL, 0LL);
        h_CHECKSUM_69->select_name = "CHECKSUM";
        h_CHECKSUM_69->file_status = h_CHECKSUM_status_2;
        memset(h_CHECKSUM_status_2, 48, 2uLL);
        h_CHECKSUM_69->assign = (cob_field *)&c_32;
        h_CHECKSUM_69->record = &f_15_1;
        h_CHECKSUM_69->variable_record = 0LL;
        h_CHECKSUM_69->record_min = 100LL;
        h_CHECKSUM_69->record_max = 100LL;
        h_CHECKSUM_69->nkeys = 0LL;
        h_CHECKSUM_69->keys = 0LL;
        h_CHECKSUM_69->file = 0LL;
        h_CHECKSUM_69->fd = -1;
        h_CHECKSUM_69->organization = 0;
        h_CHECKSUM_69->access_mode = 1;
        h_CHECKSUM_69->lock_mode = 0;
        h_CHECKSUM_69->open_mode = 0;
        h_CHECKSUM_69->flag_optional = 1;
        h_CHECKSUM_69->flag_line_adv = 0;
        h_CHECKSUM_69->flag_select_features = 0;
        dc_1 = &kc_1;
        cob_decimal_init(&kc_1);
        cob_decimal_set_field(dc_1, &c_1);
        initialized_80 = 1;
      }
      if ( frame_ptr->perform_through == 9 )
      {
        return_address_ptr = frame_ptr->return_address_ptr;
        goto LABEL_9;
      }
l_10:
      cob_display(0LL, 1LL, 1LL, &c_22, v3, v4);
      cob_string_init(&f_60_62, 0LL);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_33_61);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_39_60);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_28_59);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_34_58);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_40_57);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_28_59);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_46_56);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_47_55);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_32_54);
      cob_string_delimited(&cob_all_space);
      cob_string_append(&f_45_53);
      cob_string_finish();
      cob_accept(&f_24_50);
      if ( (unsigned int)cob_cmp(&f_24_50, &f_60_62) || b_27_49[0] != 49 )
      {
        cob_display(0LL, 1LL, 1LL, &c_29, v5, v6);
        cob_procedure_params[0] = (cob_field *)&c_27;
        cob_glob_ptr->cob_call_params = 1;
        cob_glob_ptr->cob_stmt_exception = 0;
        b_2_76 = cob_sys_oc_nanosleep("2000000000");
        cob_display(0LL, 1LL, 1LL, &c_30, v11, v12);
        cob_procedure_params[0] = (cob_field *)&c_27;
        cob_glob_ptr->cob_call_params = 1;
        cob_glob_ptr->cob_stmt_exception = 0;
        b_2_76 = cob_sys_oc_nanosleep("2000000000");
      }
      else
      {
        cob_string_init(&f_60_62, 0LL);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_46_56);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_31_48);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_41_47);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_46_56);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_45_53);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_47_55);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_49_46);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_54_45);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_47_55);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_49_46);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_55_44);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_54_45);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_47_55);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_55_44);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_49_46);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_41_47);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_44_43);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_56_42);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_41_47);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_46_56);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_51_41);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&f_57_40);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&c_23);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&c_24);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&c_25);
        cob_string_delimited(&cob_all_space);
        cob_string_append(&c_26);
        cob_string_finish();
        cob_procedure_params[0] = (cob_field *)&c_27;
        cob_glob_ptr->cob_call_params = 1;
        cob_glob_ptr->cob_stmt_exception = 0;
        b_2_76 = cob_sys_oc_nanosleep("2000000000");
        cob_display(0LL, 1LL, 1LL, &c_28, v7, v8);
        cob_procedure_params[0] = (cob_field *)&c_27;
        cob_glob_ptr->cob_call_params = 1;
        cob_glob_ptr->cob_stmt_exception = 0;
        b_2_76 = cob_sys_oc_nanosleep("2000000000");
        cob_display(0LL, 1LL, 1LL, &f_60_62, v9, v10);
        cob_procedure_params[0] = (cob_field *)&c_27;
        cob_glob_ptr->cob_call_params = 1;
        cob_glob_ptr->cob_stmt_exception = 0;
        b_2_76 = cob_sys_oc_nanosleep("2000000000");
      }
      if ( frame_ptr->perform_through == 10 )
      {
        return_address_ptr = frame_ptr->return_address_ptr;
        goto LABEL_9;
      }
      if ( module_81->module_active )
        --module_81->module_active;
      cob_module_leave(module_81);
      return b_2_76;
    }
  }
  else
  {
    if ( entry == -10 )
      return 0;
    if ( entry != -20 )
    {
      if ( !initialized_80 )
        return 0;
      if ( module_81 )
      {
        if ( module_81->module_active )
          cob_fatal_error(1LL);
      }
      initialized_80 = 0;
    }
    cob_decimal_clear(dc_1);
    dc_1 = 0LL;
    return 0;
  }
}
// 3282: variable 'v3' is possibly undefined
// 3282: variable 'v4' is possibly undefined
// 3787: variable 'v7' is possibly undefined
// 3787: variable 'v8' is possibly undefined
// 37E3: variable 'v9' is possibly undefined
// 37E3: variable 'v10' is possibly undefined
// 3844: variable 'v5' is possibly undefined
// 3844: variable 'v6' is possibly undefined
// 38A0: variable 'v11' is possibly undefined
// 38A0: variable 'v12' is possibly undefined
// 2030: using guessed type __int64 __fastcall cob_string_append(_QWORD);
// 2040: using guessed type __int64 __fastcall cob_decimal_clear(_QWORD);
// 2070: using guessed type __int64 __fastcall cob_write(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD);
// 2080: using guessed type __int64 __fastcall cob_decimal_alloc(_QWORD, _QWORD);
// 20A0: using guessed type __int64 __fastcall cob_decimal_init(_QWORD);
// 20C0: using guessed type __int64 __fastcall cob_sys_oc_nanosleep(_QWORD);
// 20D0: using guessed type __int64 cob_string_finish(void);
// 20E0: using guessed type __int64 __fastcall cob_fatal_error(_QWORD);
// 2100: using guessed type __int64 __fastcall cob_file_malloc(_QWORD, _QWORD, _QWORD, _QWORD);
// 2110: using guessed type __int64 __fastcall cob_cmp(_QWORD, _QWORD);
// 2120: using guessed type __int64 __fastcall cob_set_cancel(_QWORD);
// 2130: using guessed type __int64 __fastcall cob_accept(_QWORD);
// 2140: using guessed type __int64 __fastcall cob_string_delimited(_QWORD);
// 2150: using guessed type __int64 __fastcall cob_decimal_add(_QWORD, _QWORD);
// 2160: using guessed type __int64 __fastcall cob_read_next(_QWORD, _QWORD, _QWORD);
// 2170: using guessed type __int64 __fastcall cob_module_leave(_QWORD);
// 2180: using guessed type __int64 __fastcall cob_decimal_get_field(_QWORD, _QWORD, _QWORD);
// 2190: using guessed type __int64 __fastcall cob_open(_QWORD, _QWORD, _QWORD, _QWORD);
// 21A0: using guessed type __int64 __fastcall cob_move(_QWORD, _QWORD);
// 21B0: using guessed type __int64 __fastcall cob_module_global_enter(_QWORD, _QWORD, _QWORD, _QWORD, _QWORD);
// 21C0: using guessed type __int64 __fastcall cob_string_init(_QWORD, _QWORD);
// 21D0: using guessed type __int64 __fastcall cob_close(_QWORD, _QWORD, _QWORD, _QWORD);
// 21F0: using guessed type __int64 __fastcall cob_check_version(_QWORD, _QWORD, _QWORD);
// 2210: using guessed type __int64 __fastcall cob_decimal_set_field(_QWORD, _QWORD);
// 2220: using guessed type __int64 __fastcall cob_sys_system(_QWORD);
// 75C8: using guessed type __int64 qword_75C8;

//----- (00000000000041D2) ----------------------------------------------------
void __cdecl PHONEBOOK_module_init(cob_module *module)
{
  module->module_name = "PHONEBOOK";
  module->module_formatted_date = "Nov 03 2024 05:34:24";
  module->module_source = "phonebook.cbl";
  module->module_entry.funcptr = (void *(*)(...))PHONEBOOK;
  module->module_cancel.funcptr = (void *(*)(...))PHONEBOOK_;
  module->module_ref_count = 0LL;
  module->module_path = &cob_module_path;
  module->module_active = 0;
  module->module_date = 20241103;
  module->module_time = 53424;
  module->module_type = 0;
  module->module_param_cnt = 0;
  module->ebcdic_sign = 0;
  module->decimal_point = 46;
  module->currency_symbol = 36;
  module->numeric_separator = 44;
  module->flag_filename_mapping = 1;
  module->flag_binary_truncate = 1;
  module->flag_pretty_display = 1;
  module->flag_host_sign = 0;
  module->flag_no_phys_canc = 1;
  module->flag_main = 1;
  module->flag_fold_call = 0;
  module->flag_exit_program = 0;
  module->flag_debug_trace = 0;
  module->flag_dump_ready = 0;
  module->module_stmt = 0;
  module->module_sources = 0LL;
}

//----- (0000000000004328) ----------------------------------------------------
void term_proc()
{
  ;
}

// nfuncs=80 queued=12 decompiled=12 lumina nreq=0 worse=0 better=0
// ALL OK, 12 function(s) have been successfully decompiled
